# Гены в качестве хранилища данных

Все в TON хранится в ячейках. Ячейка - это структура данных, содержащая:

- до **1023 бит** данных (не байт!)
- до **4 ссылки** на другие ячейки

Биты и ссылки не взаимосмешиваются (они хранятся отдельно). Циклические ссылки запрещены: для любой ячейки, ни одна из ее потомков не может иметь эту исходную ячейку в качестве ссылки.

Таким образом, все клетки образуют режиссер ациклический граф (DAG). Вот хорошая картинка для иллюстрации:

![Диаграмма Directed Acylic (/img/docs/dag.png)

## Типы ячеек

На данный момент существует 5 типов ячеек: _ordinary_ и 4 _exotic_.
Эзотическими типами являются:

- Отрезанная ячейка ветки
- Справочная ячейка библиотеки
- Защитная клетка Меркла
- Обновление ячейки Меркла

:::tip
Для более подробной информации об экзотических клетках см. [**TVM Whitepaper, раздел 3**](https://ton.org/tvm.pdf).
:::

## Виды ячеек

Ячейка - это непрозрачный объект, оптимизированный для компактного хранения.

В частности, она deduplicates данные: если существует несколько эквивалентных подячеек, на которые ссылаются различные ветки, то их содержание хранится только один раз. Однако непрозрачность означает, что ячейка не может быть изменена или прочитана напрямую. Таким образом, есть 2 дополнительных вкуса ячеек:

- _Builder_ для частично построенных ячеек, для которых могут быть определены быстрые операции по appending bitstrings, целые числа, другие ячейки и ссылки на другие ячейки.
- _Slice_ для ячеек 'dissected', представляющих либо оставшуюся часть частично обработанной ячейки, либо значение (подячейки), находящееся внутри такой ячейки и извлекаемое из нее с помощью инструкции по анализу.

Другой специальный вкус ячейки используется в TVM:

- _Продолжение_ для клеток, содержащих оп-коды (инструкции) для виртуальной машины TON см. [TVM bird's-eye overview](/v3/documentation/tvm/tvm-overview).

## Сериализация данных в ячейки

Любой объект в TON (сообщение, очередь сообщений, блок, целое состояние блокчейна, контрактный код и данные) сериализируется в ячейку.

Процесс сериализации описывается схемой TL-B: формальное описание того, как этот объект может быть сериализован в _Builder_ или как разобрать объект данного типа из _Slice_.
TL-B для ячеек совпадает с TL или ProtoBuf для байт-потоков.

Если вы хотите узнать больше о сериализации ячеек, вы можете прочитать статью [ячейки и ячейки](/v3/documentation/data-formats/tlb/cell-boc).

## Смотреть также

- [Язык TL-B](/v3/documentation/data-formats/tlb/tl-b-language)
